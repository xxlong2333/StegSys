{% load static %}
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Dashboard - 数字图像隐写分析系统</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- plugins:css -->
  <link rel="stylesheet" href="{% static 'vendors/mdi/css/materialdesignicons.min.css' %}">
  <link rel="stylesheet" href="{% static 'vendors/base/vendor.bundle.base.css' %}">
  <!-- endinject -->
  <!-- inject:css -->
  <link rel="stylesheet" href="{% static 'css/majesticadmin.css' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <!-- endinject -->
  <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" />
</head>
<body>
  <div class="container-scroller">
    <!-- 顶部导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="#">隐写分析系统</a>
      <!-- 其他导航元素 -->
    </nav>
    <div class="container-fluid page-body-wrapper">
      <!-- 左侧侧边栏 -->
      <nav class="sidebar sidebar-offcanvas" id="sidebar">
        <ul class="nav">
          <li class="nav-item active">
            <a class="nav-link" href="#">
              <i class="mdi mdi-view-dashboard"></i>
              <span class="menu-title">Dashboard</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <i class="mdi mdi-upload"></i>
              <span class="menu-title">图像上传</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <i class="mdi mdi-history"></i>
              <span class="menu-title">历史记录</span>
            </a>
          </li>
        </ul>
      </nav>
      <!-- 主内容区域 -->
      <div class="main-panel">
        <div class="content-wrapper">
          <!-- 第一行：统计信息卡 -->
          <div class="row">
            <!-- 总检测次数 -->
            <div class="col-md-3 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">总检测次数</h4>
                  <p class="card-description">累计检测图像数</p>
                  <div class="d-flex align-items-center">
                    <i class="mdi mdi-eye mdi-36px text-primary"></i>
                    <h3 class="mb-0 ml-3">1200</h3>
                  </div>
                </div>
              </div>
            </div>
            <!-- 成功分析 -->
            <div class="col-md-3 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">成功分析</h4>
                  <p class="card-description">成功识别隐写图像</p>
                  <div class="d-flex align-items-center">
                    <i class="mdi mdi-check-circle mdi-36px text-success"></i>
                    <h3 class="mb-0 ml-3">980</h3>
                  </div>
                </div>
              </div>
            </div>
            <!-- 平均检测置信度 -->
            <div class="col-md-3 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">平均检测置信度</h4>
                  <p class="card-description">模型信心评分</p>
                  <div class="d-flex align-items-center">
                    <i class="mdi mdi-chart-line mdi-36px text-warning"></i>
                    <h3 class="mb-0 ml-3">85%</h3>
                  </div>
                </div>
              </div>
            </div>
            <!-- 异常报警 -->
            <div class="col-md-3 grid-margin stretch-card">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">异常报警</h4>
                  <p class="card-description">疑似隐写报警数</p>
                  <div class="d-flex align-items-center">
                    <i class="mdi mdi-alert mdi-36px text-danger"></i>
                    <h3 class="mb-0 ml-3">20</h3>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- 第二行：检测趋势图表 -->
          <div class="row">
            <div class="col-md-12 grid-margin">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">检测趋势</h4>
                  <canvas id="trendChart" style="height: 250px;"></canvas>
                </div>
              </div>
            </div>
          </div>
          <!-- 第三行：近期检测记录 -->
          <div class="row">
            <div class="col-md-12 grid-margin">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">近期检测记录</h4>
                  <div class="table-responsive">
                    <table class="table table-striped">
                      <thead>
                        <tr>
                          <th>ID</th>
                          <th>上传时间</th>
                          <th>图像名称</th>
                          <th>检测结果</th>
                          <th>置信度</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>001</td>
                          <td>2025-03-10 14:30</td>
                          <td>sample1.jpg</td>
                          <td>存在隐写</td>
                          <td>90%</td>
                        </tr>
                        <tr>
                          <td>002</td>
                          <td>2025-03-10 15:45</td>
                          <td>sample2.jpg</td>
                          <td>正常</td>
                          <td>80%</td>
                        </tr>
                        <!-- 根据实际数据动态生成记录 -->
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- content-wrapper 结束 -->
        <!-- 页脚 -->
        <footer class="footer">
          <div class="container-fluid clearfix">
            <span class="text-muted d-block text-center">
              © 2025 数字图像隐写分析系统. All rights reserved.
            </span>
          </div>
        </footer>
      </div>
      <!-- main-panel 结束 -->
    </div>
    <!-- page-body-wrapper 结束 -->
  </div>
  <!-- container-scroller 结束 -->
  <!-- plugins:js -->
  <script src="{% static 'vendors/base/vendor.bundle.base.js' %}"></script>
  <!-- endinject -->
  <!-- inject:js -->
  <script src="{% static 'js/off-canvas.js' %}"></script>
  <script src="{% static 'js/hoverable-collapse.js' %}"></script>
  <script src="{% static 'js/template.js' %}"></script>
  <script src="{% static 'js/chart.min.js' %}"></script>
  <!-- endinject -->
  <script>
    var ctx = document.getElementById('trendChart').getContext('2d');
    var trendChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['2025-03-01', '2025-03-05', '2025-03-08', '2025-03-10'],
        datasets: [{
          label: '检测次数',
          data: [50, 75, 60, 90],
          borderColor: 'rgba(75, 192, 192, 1)',
          backgroundColor: 'rgba(75, 192, 192, 0.2)',
          fill: true,
          tension: 0.1
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: { beginAtZero: true }
        }
      }
    });
  </script>
</body>
</html>